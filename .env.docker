# =============================================================================
# DOCKER DEPLOYMENT ENVIRONMENT CONFIGURATION
# =============================================================================
# Environment variables for Docker Compose deployment with Traefik

# =============================================================================
# APPLICATION ENVIRONMENT
# =============================================================================
NODE_ENV=production
COMPOSE_PROJECT_NAME=business-reporting

# =============================================================================
# DOMAIN AND URL CONFIGURATION
# =============================================================================
# Change this to your actual domain in production
DOMAIN=do-dev.veyal.org

# API URL for frontend (served through Traefik)
NEXT_PUBLIC_API_URL=https://do-dev.veyal.org/api

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# SQLite database file path (inside container)
DATABASE_URL=file:./data/prod.db

# =============================================================================
# JWT AUTHENTICATION
# =============================================================================
# IMPORTANT: Generate a secure JWT secret for production!
# Use: openssl rand -base64 32
JWT_SECRET=your-super-secure-jwt-secret-key-change-in-production

# JWT Token expiration times
ACCESS_TOKEN_TTL_MIN=15
REFRESH_TOKEN_TTL_DAYS=7

# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================
# Directory for uploaded files (inside container)
UPLOAD_DIR=./uploads

# Maximum file size for uploads (in bytes) - 50MB
MAX_FILE_SIZE=52428800

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
# Backend server port (internal to container)
PORT=5000

# CORS origin (through Traefik)
CORS_ORIGIN=https://do-dev.veyal.org

# =============================================================================
# TRAEFIK CONFIGURATION
# =============================================================================
# Email for Let's Encrypt certificate registration
LETSENCRYPT_EMAIL=admin@veyal.org

# Network name for Docker services
NETWORK_NAME=app-network

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# Session secret for additional security
SESSION_SECRET=another-secure-random-string-for-sessions

# Enable HTTPS redirect in production
FORCE_HTTPS=true

# =============================================================================
# LOGGING AND MONITORING
# =============================================================================
# Log level for application logs
LOG_LEVEL=info

# Enable request logging
ENABLE_REQUEST_LOGGING=true

# =============================================================================
# PRODUCTION OPTIMIZATIONS
# =============================================================================
# Node.js memory limit
NODE_OPTIONS=--max-old-space-size=1024

# Disable Next.js telemetry
NEXT_TELEMETRY_DISABLED=1

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# Whether to run database migrations on startup
AUTO_MIGRATE=true

# Whether to seed the database with initial data
AUTO_SEED=false

# =============================================================================
# HEALTH CHECK CONFIGURATION
# =============================================================================
# Health check timeout in milliseconds
HEALTH_CHECK_TIMEOUT=5000